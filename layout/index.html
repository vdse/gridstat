<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/style.css" rel="stylesheet" />
</head>
<body>${false ? 'TODO find approach to create and reuse partials for status' : ''}
  <!-- TODO union label with first span -->

  <div style="margin: auto; max-width: 720px;">

    <form method="GET" action="/calc">

      <h3>
        BTC/USDT spot grid bot
      </h3>
      <p>
        Required fields are followed by
        <strong><span aria-label="required">*</span></strong>.
      </p>

      <fieldset>
        <legend>Date Range (TODO range)</legend>
        <div> <!-- div required for vertical layout in w3m, lynx, links etc -->
          <label for="from">
            <span id="date-range-from">From </span><strong><span aria-label="required">*</span></strong>
          </label>
        </div>
        <div>
          <input type="date" id="from" name="from" required aria-describedby="date-range-from" min="${obj.from.min}" max="${obj.from.max}" ${obj.from.value ? 'value="' + obj.from.value + '"' : ''}/>
        </div>${obj.from.status.format != undefined ? `
        <div>
          <span class="${obj.from.status.format.class}"><code>${obj.from.status.format.symbol}</code></span><span class="${obj.from.status.format.class}">${obj.from.status.format.message}</span>
        </div>` : ''}${obj.from.status.within_range != undefined ? `
        <div>
          <span class="${obj.from.status.within_range.class}"><code>${obj.from.status.within_range.symbol}</code></span><span class="${obj.from.status.within_range.class}">${obj.from.status.within_range.message}</span>
        </div>` : ''}
        <div>
          <label for="to">
            <span id="date-range-to">To </span><strong><span aria-label="required">*</span></strong>
          </label>
        </div>
        <div>
          <input type="date" id="to" name="to" required aria-describedby="date-range-to" min="${obj.to.min}" max="${obj.to.max}" ${obj.to.value ? 'value="' + obj.to.value + '"' : ''}/>
        </div>${obj.to.status.format != undefined ? `
        <div>
          <span class="${obj.to.status.format.class}"><code>${obj.to.status.format.symbol}</code></span><span class="${obj.to.status.format.class}">${obj.to.status.format.message}</span>
        </div>` : ''}${obj.to.status.within_range != undefined ? `
        <div>
          <span class="${obj.to.status.within_range.class}"><code>${obj.to.status.within_range.symbol}</code></span><span class="${obj.to.status.within_range.class}">${obj.to.status.within_range.message}</span>
        </div>` : ''}${obj.to.status.to_ge_from != undefined ? `
        <div>
          <span class="${obj.to.status.to_ge_from.class}"><code>${obj.to.status.to_ge_from.symbol}</code></span><span class="${obj.to.status.to_ge_from.class}">${obj.to.status.to_ge_from.message}</span>
        </div>` : ''}
      </fieldset>

      <fieldset>
        <legend>Price Range</legend>
        <div>
          <label for="lower">
            <span id="price-range-lower">Lower [USDT] </span><strong><span aria-label="required">*</span></strong>
          </label>
        </div>
        <div>
            <!-- property size ignored by chrome, but required for firefox to more unify (with chrome) handle min-width -->
            <input required type="number" id="lower" name="lower" aria-describedby="price-range-lower" min="1000" step="1000" size="10" placeholder="&geq;1000" ${obj.lower.value != undefined ? 'value="' + obj.lower.value + '"' : ''}
            />
        </div>${obj.lower.status.number != undefined ? `
        <div>
          <span class="${obj.lower.status.number.class}"><code>${obj.lower.status.number.symbol}</code></span><span class="${obj.lower.status.number.class}">${obj.lower.status.number.message}</span>
        </div>` : ''}${obj.lower.status.ge_1e3 != undefined ? `
        <div>
          <span class="${obj.lower.status.ge_1e3.class}"><code>${obj.lower.status.ge_1e3.symbol}</code></span><span class="${obj.lower.status.ge_1e3.class}">${obj.lower.status.ge_1e3.message}</span>
        </div>` : ''}${obj.lower.status.multiples_of_1e3 != undefined ? `
        <div>
          <span class="${obj.lower.status.multiples_of_1e3.class}"><code>${obj.lower.status.multiples_of_1e3.symbol}</code></span><span class="${obj.lower.status.multiples_of_1e3.class}">${obj.lower.status.multiples_of_1e3.message}</span>
        </div>` : ''}

        <div>
          <label for="upper">
            <span id="price-range-upper">Upper [USDT] </span><strong><span aria-label="required">*</span></strong>
          </label>
        </div>
        <div>
          <input required type="number" id="upper" name="upper" aria-describedby="price-range-upper" min="2000" step="1000" size="10" placeholder="&gt;Lower" ${obj.upper.value != undefined ? 'value="' + obj.upper.value + '"' : ''} />
        </div>${obj.upper.status.number !== undefined ? `
        <div>
          <span class="${obj.upper.status.number.class}"><code>${obj.upper.status.number.symbol}</code></span><span class="${obj.upper.status.number.class}">${obj.upper.status.number.message}</span>
        </div>` : ''}${obj.upper.status.ge_2e3 != undefined ? `
        <div>
          <span class="${obj.upper.status.ge_2e3.class}"><code>${obj.upper.status.ge_2e3.symbol}</code></span><span class="${obj.upper.status.ge_2e3.class}">${obj.upper.status.ge_2e3.message}</span>
        </div>` : ''}${obj.upper.status.multiples_of_1e3 != undefined ? `
        <div>
          <span class="${obj.upper.status.multiples_of_1e3.class}"><code>${obj.upper.status.multiples_of_1e3.symbol}</code></span><span class="${obj.upper.status.multiples_of_1e3.class}">${obj.upper.status.multiples_of_1e3.message}</span>
        </div>` : ''}${obj.upper.status.gt_lower != undefined ? `
        <div>
          <span class="${obj.upper.status.gt_lower.class}"><code>${obj.upper.status.gt_lower.symbol}</code></span><span class="${obj.upper.status.gt_lower.class}">${obj.upper.status.gt_lower.message}</span>
        </div>` : ''}
      </fieldset>

      <fieldset>
        <legend>Grid Parameters</legend>
        <div>
          <label for="mode">
            <span id="grid-mode">Mode </span><strong><span aria-label="required">*</span></strong>
          </label>
        </div>
        <div>
          <select id="mode" name="mode" aria-describedby="grid-mode">
            <option value="arithmetic" selected>Arithmetic</option>
            <option value="geometric" disabled>Geometric</option>
          </select>
        </div>${obj.mode.status.arithmetic != undefined ? `
        <div>
          <span class="${obj.mode.status.arithmetic.class}"><code>${obj.mode.status.arithmetic.symbol}</code></span><span class="${obj.mode.status.arithmetic.class}">${obj.mode.status.arithmetic.message}</span>
        </div>` : ''}

        <div>
          <label id="grid-grids" for="grids">Grids <strong><span aria-label="required">*</span></strong></label>
        </div>
        <div>
          <input required type="number" id="grids" name="grids" aria-describedby="grid-grids" min="2" max="20" step="1" size="10" placeholder="2~20" ${obj.grids.value != undefined ? 'value="' + obj.grids.value + '"' : ''} />
        </div>${obj.grids.status.integer != undefined ? `
        <div>
          <span class="${obj.grids.status.integer.class}"><code>${obj.grids.status.integer.symbol}</code></span><span class="${obj.grids.status.integer.class}">${obj.grids.status.integer.message}</span>
        </div>` : ''}${obj.grids.status.within_range != undefined ? `
        <div>
          <span class="${obj.grids.status.within_range.class}"><code>${obj.grids.status.within_range.symbol}</code></span><span class="${obj.grids.status.within_range.class}">${obj.grids.status.within_range.message}</span>
        </div>` : ''}
      </fieldset>

      <fieldset>
        <legend>Investment</legend>
        <div>
          <label id="investment-amount" for="investment">Amount [USDT] <strong><span aria-label="required">*</span></strong></label>
        </div>
        <div>
          <input required type="number" id="investment" name="investment" aria-describedby="investment-amount" min="1" ${obj.investment.value != undefined ? 'value="' + obj.investment.value + '"' : ''} />
        </div>${obj.investment.status.number != undefined ? `
        <div>
          <span class="${obj.investment.status.number.class}"><code>${obj.investment.status.number.symbol}</code></span><span class="${obj.investment.status.number.class}">${obj.investment.status.number.message}</span>
        </div>` : ''}${obj.investment.status.ge_1 != undefined ? `
        <div>
          <span class="${obj.investment.status.ge_1.class}"><code>${obj.investment.status.ge_1.symbol}</code></span><span class="${obj.investment.status.ge_1.class}">${obj.investment.status.ge_1.message}</span>
        </div>` : ''}
      </fieldset>

      <div> <!-- this div required for symmetry of layout -->
        <button type="submit">Compute</button>
      </div>

    </form>
</div>
</body>
